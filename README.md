# Currency & Crypto Converter Bot

Многофункциональный Telegram-бот для мгновенной конвертации валют, криптовалют и сложных математических выражений. Поддерживает комиссии, кэширование, работу при недоступности API.

## Оглавление

- [Особенности](#особенности)
- [Структура проекта](#структура-проекта)
- [Установка и запуск](#установка-и-запуск)
- [Примеры использования](#примеры-использования)
- [Поддерживаемые валюты](#поддерживаемые-валюты)
- [Работа с ошибками и кешем](#работа-с-ошибками-и-кешем)
- [Тестирование и надежность](#тестирование-и-надежность)
- [Контрибьютинг](#контрибьютинг)
- [Лицензия](#лицензия)
- [Контакты](#контакты)

## Особенности

- Конвертация фиатных и криптовалют:  
  Доллары, евро, рубли, юани, BTC, ETH, USDT, BNB и др.
- Обработка математических выражений:  
  +, -, *, /, скобки, смеси валют в одном запросе.
- Дружественный ввод:  
  Признаёт сленговые и различные формы написания валют.
- Учёт комиссий:  
  Одной командой — --commission=X (%).
- Интерактивный режим:  
  Пошаговый выбор валют, суммы.
- Кеширование:  
  Работа при сбоях внешних сервисов, отображение времени актуальности курса.
- Удобный вывод:  
  Красивая разметка и подсказки даже при ошибках или частичных данных.
- Логирование:  
  Все действия логируются для мониторинга и отладки.

## Структура проекта

| Файл             | Назначение                                   |
|------------------|----------------------------------------------|
| config.py        | Конфигурация: токены, ключи, валюты, логи    |
| extensions.py    | Работа с API, парсинг, кэширование           |
| main.py          | Запуск бота, обработчики команд, клавиатуры  |
| README.md        | Документация                                 |
| .gitignore       | Игнорирование временных файлов и логов        |
## Установка и запуск

### 1. Клонировать репозиторий:

git clone https://github.com/yourusername/currency-crypto-converter-bot.git
cd currency-crypto-converter-bot
### 2. Установить зависимости

pip install -r requirements.txt
_или напрямую:_
pip install pyTelegramBotAPI requests
### 3. Создать и экспортировать переменные окружения

export TELEGRAM_TOKEN='ваш_токен'            # токен Telegram-бота
export OPENEXCHANGE_API_KEY='ваш_ключ'       # ключ Open Exchange Rates для фиата
> Note: В проекте может использоваться BOT_TOKEN вместо TELEGRAM_TOKEN — проверьте в config.py.

### 4. Запустить бота

python main.py
## Примеры использования

#### Быстрые команды

- Простая конвертация:
   
    Доллар Рубль 100
    0.5 BTC в USD
    
- Математическое выражение:
   
    100 USD + 50 EUR в RUB
    (0.5 BTC * 42000) в EUR
    (100 USD * 1.1) / 0.5 ETH в BTC
    
- Добавьте комиссию в процентах:
   
    Эфириум Рубль 1.2 --commission=1.5
    
#### Интерактивный режим

- Команда /convert — пошаговый выбор типа валют, направления, суммы.

#### Дополнительно:
- В любой момент доступна справка — команда /help
- Список поддерживаемых валют — команда /values

## Поддерживаемые валюты

Все основные фиатные и наиболее востребованные криптовалюты. Формы названий на русском и английском (включая сленг, сокращения).
- Посмотреть актуальный список: команда /values
- Примеры: Доллар (USD), Евро (EUR), Рубль (RUB), Юань (CNY), Биткоин (BTC), Эфириум (ETH), Тезер (USDT) и др.

## Работа с ошибками и кешем

- При сбое API или отсутствии связи используются последние сохранённые курсы — в ответе отображается дата и время их актуальности.
- Валидируются все параметры: валюта, сумма, комиссия.
- Все ошибки отображаются пользователю понятным языком с подсказками по исправлению ввода.

## Тестирование и надежность

- Проверены сценарии: простые и сложные конвертации (фиат/крипто/комбинированные), вычисления с несколькими валютами, некорректные/ошибочные запросы, сбои и отказоустойчивость.
- Проект стабильно работает на Linux, Windows, macOS, Python 3.9+.

## Контрибьютинг

1. Приветствуются любые улучшения — от исправлений багов до новых функций!
2. Перед пушем убедитесь, что ваши изменения не ломают основную функциональность.
3. Создайте pull request или issue для обсуждения.

## Лицензия

MIT License — свободно используйте, меняйте и распространяйте проект с упоминанием авторства.

## Контакты

- Для справки внутри Telegram используйте команду /help
- Если нашли ошибку или хотите предложить улучшение — создайте [Issue](https://github.com/yourusername/currency-crypto-converter-bot/issues) на GitHub.

Спасибо за интерес к проекту! Буду рад обратной связи и вашим pull request'ам.
